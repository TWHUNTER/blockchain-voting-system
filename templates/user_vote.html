{% extends "base.html" %}
{% block title %}Cast Your Vote{% endblock %}
{% block content %}
<div class="row justify-content-center">
    <div class="col-md-6">
        <div class="card">
            <div class="card-header bg-primary text-white">
                <h1 class="h3 mb-0">Cast Your Vote</h1>
            </div>
            <div class="card-body">
                {% if voting_closed %}
                    <div class="alert alert-danger" role="alert">
                        Voting is currently closed. No new votes can be submitted at this time.
                    </div>
                {% elif not candidates %}
                    <div class="alert alert-warning" role="alert">
                        No candidates have been set up for this election yet. Please check back later or contact an administrator.
                    </div>
                {% else %}
                <form method="POST" action="{{ url_for('submit_vote') }}">
                    <div class="form-group mb-3">
                        <label for="voter_token" class="form-label">Your Voter Token (Wallet ID):</label>
                        <input type="text" class="form-control" id="voter_token" name="voter_token" required placeholder="Enter your unique token">
                    </div>

                    <div class="form-group mb-3">
                        <label for="candidate" class="form-label">Choose Candidate:</label>
                        <select class="form-select" id="candidate" name="candidate" required> {# Changed form-control to form-select for BS5 selects #}
                            <option value="" disabled selected>-- Select a Candidate --</option>
                            {% for candidate in candidates %}
                            <option value="{{ candidate }}">{{ candidate }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <button type="submit" class="btn btn-success w-100">Submit Vote</button>
                </form>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}